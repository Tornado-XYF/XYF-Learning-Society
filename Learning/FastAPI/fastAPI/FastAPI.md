# FASTAPI

## I/O密集型和CPU密集型

I/O密集型操作(适合并发)：

通过网络发送来自客户端的数据
客户端接收来自网络中的数据
磁盘中要由系统读取并提供给程序的文件的内容
程序提供给系统的要写入磁盘的内容
一个 API 的远程调用
一个数据库操作，直到完成
一个数据库查询，直到返回结果
等等.

CPU密集型操作(适合并行)：
音频或图像处理；
计算机视觉: 一幅图像由数百万像素组成，每个像素有3种颜色值，处理通常需要同时对这些像素进行计算；
机器学习: 它通常需要大量的"矩阵"和"向量"乘法。想象一个包含数字的巨大电子表格，并同时将所有数字相乘；
深度学习: 这是机器学习的一个子领域，同样适用。只是没有一个数字的电子表格可以相乘，而是一个庞大的数字集合，在很多情况下，你需要使用一个特殊的处理器来构建和使用这些模型。

## 异步

### 并发汉堡和并行汉堡

并发汉堡:与恋人点完汉堡后，拿到号码牌，在等待的时间可以和恋人聊天，玩游戏

并行汉堡:与恋人点完汉堡后只能待在原地等待汉堡出来

### async和await

## 虚拟环境

### 创建一个工程

打开powershell：

```.
💬 进入主目录
cd
💬 创建一个用于存放所有代码工程的目录
mkdir code
💬 进入 code 目录
cd code
💬 创建一个用于存放这个工程的目录
mkdir awesome-project
💬 进入这个工程的目录
cd awesome-project
```

### 创造和激活虚拟环境

powershell：

python -m venv .venv

python: 使用名为 python 的程序
-m: 以脚本的方式调用一个模块，我们将告诉它接下来使用哪个模块
venv: 使用名为 venv 的模块，这个模块通常随 Python 一起安装
.venv: 在新目录 .venv 中创建虚拟环境

激活：

.venv\Scripts\Activate.ps1

每次开始一个新的终端会话来工作在这个工程时，都要写这个代码
每次你在这个环境中安装一个 新的包 时，都需要 重新激活 这个环境。
这么做确保了当你使用一个由这个包安装的 终端（CLI）程序 时，你使用的是你的虚拟环境中的程序，而不是全局安装、可能版本不同的程序。

### 检查虚拟环境是否激活

Get-Command python

### 升级pip

通常在激活虚拟环境后执行一次：

python -m pip install --upgrade pip

### 添加.gitignore

```.
echo "*" > .venv/.gitignore
```

echo "*": 将在终端中 "打印" 文本 `*`（接下来的部分会对这个操作进行一些修改）
>: 使左边的命令打印到终端的任何内容实际上都不会被打印，而是会被写入到右边的文件中
.gitignore: 被写入文本的文件的名称
而 * 对于 Git 来说意味着 "所有内容"。所以，它会忽略 .venv 目录中的所有内容。

该命令会创建一个名为 .gitignore 的文件，内容如下:
`*`

### 退出虚拟环境

deactivate

## 第一步

```c
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message":"Hello World"}
```

在main.py文件中编写，然后在终端运行代码：

`fastapi dev main.py`

在输出中找到诸如INFO:  Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)

